{% extends 'layout.html.twig' %}

{% block aditionalStyle %}
    <!-- Custom Multiselect CSS -->
    <link href="{{ asset('css/multiselect.css') }}" rel="stylesheet">
{% endblock %}

{% block content -%}
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading"><h3>Enviar Muestra</h3></div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-12">
                        {{ form_start(form, {'attr':{ 'class':'form-horizontal' }}) }}
                        <div class="form-group">
                            <div class="col-md-4">
                                {{ form_label(form.tipo) }}
                                {{ form_widget(form.tipo,{'attr':{ 'class':'form-control' }}) }}
                                {{ form_errors(form.tipo) }}
                            </div>
                            <div class="col-md-4">
                                {{ form_label(form.descripcion,'Descripción') }}
                                {{ form_widget(form.descripcion,{'attr':{ 'class':'form-control' }}) }}
                                {{ form_errors(form.descripcion) }}
                            </div>
                            <div class="col-md-4">
                                {{ form_label(form.experimento) }}
                                {{ form_widget(form.experimento,{'attr':{ 'class':'form-control' }}) }}
                                {{ form_errors(form.experimento) }}
                            </div>
                        </div>
                        <div class="form-group form-inline">
                            <div class="col-md-6">
                                {{ form_label(form.tratamientos) }}
                                <ol class="tratamientos"
                                    data-prototype="{{ form_widget(form.tratamientos.vars.prototype)| e }}">
                                    {# iterate over each existing tag and render its only field: name #}
                                    {% for tratamiento in form.tratamientos %}
                                        <li class="col-md-7">
                                            <div class="form-group input-group">
                                                {{ form_widget(tratamiento.descripcion,{'attr':{ 'class':'form-control' }}) }}
                                                {{ form_errors(tratamiento.descripcion) }}
                                            </div>
                                        </li>
                                    {% endfor %}
                                </ol>
                            </div>
                            <div class="col-md-6">
                                <div>
                                    {{ form_label(form.analisis,'Análisis') }}
                                </div>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-info" id="ms_select">Seleccionar todo</button>
                                    <button type="button" class="btn btn-info" id="ms_deselect">Deseleccionar todo
                                    </button>
                                </div>
                                {{ form_widget(form.analisis,{'attr':{ 'class':'form-control' }}) }}
                                {{ form_errors(form.analisis) }}
                            </div>
                        </div>
                        <div class="col-md-12 col-lg-offset-10">
                            <input type="submit" class="btn btn-success text-right" value="Enviar muestra">
                        </div>
                        {{ form_end(form) }}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block adicionalscripts %}
    <script src="{{ asset('js/embbeded-form.js') }}"></script>
    <script src="{{ asset('js/jquery.multi-select.min.js') }}"></script>
    <script src="{{ asset('js/plugins.js') }}"></script>
{% endblock %}