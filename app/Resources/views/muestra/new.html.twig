{% extends 'layout.html.twig' %}

{% block aditionalStyle %}
    <!-- Custom Multiselect CSS -->
    <link href="{{ asset('css/multiselect.css')}}" rel="stylesheet">
{% endblock %}

{% block content -%}
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading"> <h3>Adicionar Muestra</h3></div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-9">
                        {{ form_start(form, {'attr':{ 'class':'form-horizontal' }}) }}
                        <div class="form-group">
                            <div class="col-md-7">
                                {{ form_label(form.noOrden) }}
                                {{ form_widget(form.noOrden,{'attr':{ 'class':'form-control' }}) }}
                                {{ form_errors(form.noOrden) }}
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-7">
                                {{ form_label(form.claveInterna) }}
                                {{ form_widget(form.claveInterna,{'attr':{ 'class':'form-control' }}) }}
                                {{ form_errors(form.claveInterna) }}
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-7">
                                {{ form_label(form.claveExterna) }}
                                {{ form_widget(form.claveExterna,{'attr':{ 'class':'form-control' }}) }}
                                {{ form_errors(form.claveExterna) }}
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-7">
                                {{ form_label(form.experimento) }}
                                {{ form_widget(form.experimento,{'attr':{ 'class':'form-control' }}) }}
                                {{ form_errors(form.experimento) }}
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-7">
                                {{ form_label(form.especie) }}
                                {{ form_widget(form.especie,{'attr':{ 'class':'form-control' }}) }}
                                {{ form_errors(form.especie) }}
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-7">
                                {{ form_label(form.tipoEstudio) }}
                                {{ form_widget(form.tipoEstudio,{'attr':{ 'class':'form-control' }}) }}
                                {{ form_errors(form.tipoEstudio) }}
                            </div>
                        </div>
                        <div class="form-group form-inline">
                            <p>{{ form_label(form.tratamientos) }}</p>
                            <div class="col-md-12">
                                <ol class="tratamientos" data-prototype="{{ form_widget(form.tratamientos.vars.prototype)| e }}">
                                    {# iterate over each existing tag and render its only field: name #}
                                    {% for tratamiento in form.tratamientos %}
                                        <li class="col-md-7">
                                            <div class="form-group input-group">
                                                {{ form_widget(tratamiento.descripcion,{'attr':{ 'class':'form-control' }}) }}
                                                {{ form_errors(tratamiento.descripcion) }}
                                            </div>
                                        </li>
                                    {% endfor %}
                                </ol>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-7">
                                {{ form_label(form.analisis) }}
                                <div class="btn-group">
                                    <button type="button" class="btn btn-mini" id="ms_select">Seleccionar todo</button>
                                    <button type="button" class="btn btn-mini" id="ms_deselect">Deseleccionar todo</button>
                                </div>
                                {{ form_widget(form.analisis,{'attr':{ 'class':'form-control' }}) }}
                                {{ form_errors(form.analisis) }}
                            </div>

                        </div>
                        <input type="submit" class="btn btn-success" value="Adicionar">
                        <a href="{{ path('muestra') }}" class="btn btn-default">Lista de muestras</a>
                        {{ form_end(form) }}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block adicionalscripts %}
   <script src="{{ asset('js/embbeded-form.js') }}"></script>
    <script src="{{ asset('js/jquery.multi-select.min.js') }}"></script>
    <script src="{{ asset('js/plugins.js') }}"></script>
{% endblock %}